<div id="main" class="l-border r-border span-15">

    <h1 id="intro"><a href="#intro">Ajax Link</a></h1>

    <p class="description">
    The simplest way the make Ajax links.
    </p>

    <h2 id="syntax"><a href="#syntax">Syntax</a></h2>

    <h3>View:</h3>
    <p>
        Build a link and add class "ajaxLink".
    </p>
    <?php
        echo $this->GeSHi('<a href="$ajaxCallBackUrl" class="ajaxLink">$linkLabel</a>', 'html4strict');
    ?>

    <h3>Controller Action:</h3>
    <p>
        Identify Ajax request and send some Javascript or/and return some content.
        Your controller action can have a multiple rendering, one for ajax and another for non ajax.
    </p>
    <?php

        $source = array();
        $source[] = 'if ($this->isAjax) {';

        $source[] = '   // execute javascript on callback';
        $source[] = '   $this->_makeAjax();';
        $source[] = '   $this->_addAjax(\'alert("Hello world");\');';

        $source[] = '';
        $source[] = '   // execute javascript on callback an return ajax view content';
        $source[] = '   $this->_makeAjaxHtml();';
        $source[] = '   $this->_addAjax(\'alert("Hello world");\');';

        $source[] = '}';


        echo $this->GeSHi(implode("\n", $source), 'php');
    ?>

    <h2 id="examples"><a href="#examples">Examples</a></h2>

    <h3>Ajax link with JS callback:</h3>
    <p>
        <a href="/example/javascript/ajaxlink" class="ajaxLink">my ajax link</a>
    </p>

    <h3>Ajax link with HTML callback:</h3>
    <p>
        <a href="/example/javascript/ajaxlink?html=1" class="ajaxLink">my html ajax link</a>
        <div id="ajaxLinkCallbackValue"></div>
    </p>

</div>


<div id="menu" class="span-2 last">
    <h4 class="menu-item"><a href="#intro">Ajax Link</a></h4>
    <div class="menu-item"><a href="#syntax">Syntax</a></div>
    <div class="menu-item"><a href="#examples">Examples</a></div>
</div>

